{"version":3,"file":"three-dragger.esm.js","sources":["../node_modules/eventemitter3/index.js","../src/utils.js","../src/MouseDragger.js"],"sourcesContent":["'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","import {\n  Vector2\n} from 'three';\n\nconst isFunction = (object) => (typeof object === 'function');\nconst isEmptyArray = (object) => (Array.isArray(object) && object.length === 0);\n\n/**\n * Normalize a number to [-1,1]\n * @param {Number} number\n * @return {Number}\n */\nconst normalize = (number) => {\n  if (number < -1) {\n    return -1;\n  } else if (number > 1) {\n    return 1;\n  } else {\n    return number;\n  }\n};\n\n/**\n * Calculate normalized device coordinates of the mouse\n * @param {MouseEvent} event\n * @param {Element} container\n * @return {Vector2}\n */\nconst getMouseNDCPosition = (event, container) => {\n  const rect = {\n    left: 0,\n    top: 0,\n    width: window.innerWidth,\n    height: window.innerHeight\n  };\n  // the contanier is Element type\n  if (container && isFunction(container.getBoundingClientRect)) {\n    Object.assign(rect, container.getBoundingClientRect());\n  }\n  const {\n    left,\n    top,\n    width,\n    height\n  } = rect;\n  if (event.clientX === undefined || event.clientY === undefined) {\n    console.warn(`${event} is not a standard DOM event, which misses clientX and clientY`); // eslint-disable-line no-console\n  }\n  // relative to the viewport -> relative to the container\n  const clientX = event.clientX - left;\n  const clientY = event.clientY - top;\n  // calculate normalized device coordinates\n  const x = (clientX / width) * 2 - 1;\n  const y = -(clientY / height) * 2 + 1;\n  return new Vector2(normalize(x), normalize(y));\n};\n\nexport {\n  isEmptyArray,\n  normalize,\n  getMouseNDCPosition\n};\n","import {\n  Plane,\n  Raycaster,\n  Vector2,\n  Vector3\n} from 'three';\nimport EventEmitter from 'eventemitter3';\nimport {\n  getMouseNDCPosition,\n  isEmptyArray\n} from './utils';\n\nconst MOUSE = {\n  LEFT: 0,\n  MIDDLE: 1,\n  RIGHT: 2\n};\n\nclass MouseDragger extends EventEmitter {\n  /**\n   * Constructor\n   * @param {[Object3D]} objects - draggable objects\n   * @param {Camera} camera - camera\n   * @param {Element} domElement - canvas element\n   */\n  constructor(objects, camera, domElement) {\n    super();\n\n    this.objects = objects;\n    this.camera = camera;\n    this.domElement = domElement;\n\n    this.mouse = new Vector2(); // normalized device coordinates of the mouse\n    this.selected = null; // selected object\n    this.offset = new Vector3(); // offset between the mouse and the center of selected object\n    this.plane = new Plane(); // plane of the selected object, which is perpendicular to the camera's world space direction\n\n    this.raycaster = new Raycaster();\n    this.intersection = new Vector3();\n\n    this.dragging = false;\n    this.enabled = true;\n\n    this.attachEvents();\n  }\n\n  /**\n   * Update draggable objects\n   * @param {[Object3D]} objects\n   */\n  update(objects) {\n    this.objects = objects;\n  }\n\n  /**\n   * Reset\n   */\n  reset() {\n    const self = this;\n    self.enabled = true;\n  }\n\n  /**\n   * Dispose\n   */\n  dispose() {\n    this.detachEvents();\n  }\n\n  /**\n   * Attach events\n   */\n  attachEvents() {\n    const self = this;\n    document.addEventListener('mousedown', self.onDocumentMouseDown, false);\n    document.addEventListener('mousemove', self.onDocumentMouseMove, false);\n    document.addEventListener('mouseup', self.onDocumentMouseUp, false);\n  }\n\n  /**\n   * Detach events\n   */\n  detachEvents() {\n    const self = this;\n    document.removeEventListener('mousedown', self.onDocumentMouseDown, false);\n    document.removeEventListener('mousemove', self.onDocumentMouseMove, false);\n    document.removeEventListener('mouseup', self.onDocumentMouseUp, false);\n  }\n\n  /**\n   * Determine whether the mouse is contained in the canvas element\n   * @param {MouseEvent} event\n   */\n  containsMousePoint(event) {\n    const self = this;\n    if (!self.domElement.getBoundingClientRect) {\n      return true;\n    }\n    const {\n      top,\n      right,\n      bottom,\n      left\n    } = self.domElement.getBoundingClientRect();\n    const {\n      clientX,\n      clientY\n    } = event;\n    // outside of the canvas element\n    if (clientX < left || clientX > right || clientY < top || clientY > bottom) {\n      return false;\n    }\n    // inside\n    return true;\n  }\n\n  /**\n   * Ray cast\n   * @param {Vector2} - mouse\n   * @returns {Object3D|null} - intersected object\n   */\n  rayCast(mouse) {\n    const self = this;\n    if (isEmptyArray(self.objects)) {\n      return null;\n    }\n    self.raycaster.setFromCamera(mouse, self.camera);\n    const intersects = self.raycaster.intersectObjects(self.objects, true);\n    if (intersects.length > 0) {\n      return intersects[0].object;\n    }\n    return null;\n  }\n\n  /**\n   * Emit event\n   * @param {string} eventName - event name\n   * @param {Object3D} target - intersected object\n   * @param {Vector3} position - position of the intersected object\n   * @param {Event} domEvent - DOM event\n   */\n  emitEvent(eventName, target, position, domEvent) {\n    const self = this;\n    super.emit(eventName, {\n      target: target,\n      mouse: self.mouse,\n      position: position,\n      event: domEvent\n    });\n  }\n\n  /**\n   * Press the left mouse button\n   * @param {MouseEvent} event\n   */\n  onDocumentMouseDown = (event) => {\n    const self = this;\n    if (!self.enabled) {\n      return;\n    }\n    if (!self.containsMousePoint(event)) {\n      return;\n    }\n    if (event.button === MOUSE.LEFT) {\n      event.preventDefault();\n\n      const mouse = getMouseNDCPosition(event, self.domElement);\n      const current = self.rayCast(mouse) || null;\n\n      self.mouse = mouse;\n      self.selected = current;\n      self.emitEvent('mousedown', current, null, event);\n    }\n  };\n\n  /**\n   * Move the mouse\n   * @param {MouseEvent} event\n   */\n  onDocumentMouseMove = (event) => {\n    const self = this;\n    if (!self.enabled) {\n      return;\n    }\n    event.preventDefault();\n\n    if (self.selected) {\n      const mouse = getMouseNDCPosition(event, self.domElement);\n\n      // the NDC is not changed\n      if (mouse.equals(self.mouse)) {\n        return;\n      }\n\n      // Update mouse's coordinates\n      self.mouse = mouse;\n\n      // Begin to drag the object\n      if (self.dragging === false) {\n        // Create a plane with the camera's world space direction (as a normal) and a coplanar point\n        self.plane.setFromNormalAndCoplanarPoint(self.camera.getWorldDirection(), self.selected.position);\n\n        // Calculate the offset between the mouse and the center of the selected object\n        self.raycaster.setFromCamera(self.mouse, self.camera);\n        self.raycaster.ray.intersectPlane(self.plane, self.intersection);\n        self.offset.copy(self.intersection).sub(self.selected.position);\n\n        self.domElement.style.cursor = 'move';\n        self.emitEvent('dragstart', self.selected, self.selected.position.clone(), event);\n        self.dragging = true;\n      }\n\n      // Calculate the intersection of the plane and the ray\n      self.raycaster.setFromCamera(self.mouse, self.camera);\n      self.raycaster.ray.intersectPlane(self.plane, self.intersection);\n\n      // Subtract the offset before emit world coordinates\n      self.emitEvent('drag', self.selected, self.intersection.sub(self.offset).clone(), event);\n    }\n  };\n\n  /**\n   * Release the left mouse button\n   * @param {MouseEvent} event\n   */\n  onDocumentMouseUp = (event) => {\n    const self = this;\n    if (!self.enabled) {\n      return;\n    }\n    if (event.button === MOUSE.LEFT) {\n      event.preventDefault();\n\n      // Dargging\n      if (self.dragging && self.selected) {\n        self.domElement.style.cursor = 'auto';\n        self.emitEvent('dragend', self.selected, self.intersection.clone(), event);\n        self.selected = null;\n        self.dragging = false;\n        return;\n      }\n\n      self.selected = null;\n      self.dragging = false;\n\n      // No dragging\n      if (self.containsMousePoint(event)) {\n        self.emitEvent('mouseup', null, null, event);\n        self.emitEvent('click', null, null, event);\n      }\n    }\n  };\n}\n\nexport default MouseDragger;\n"],"names":["isFunction","object","isEmptyArray","Array","isArray","length","normalize","number","getMouseNDCPosition","event","container","rect","left","top","width","window","innerWidth","height","innerHeight","getBoundingClientRect","Object","assign","clientX","undefined","clientY","console","warn","x","y","Vector2","MOUSE","LEFT","MIDDLE","RIGHT","MouseDragger","objects","camera","domElement","self","enabled","containsMousePoint","button","preventDefault","mouse","current","rayCast","selected","emitEvent","equals","dragging","plane","setFromNormalAndCoplanarPoint","getWorldDirection","position","raycaster","setFromCamera","ray","intersectPlane","intersection","offset","copy","sub","style","cursor","clone","Vector3","Plane","Raycaster","attachEvents","detachEvents","document","addEventListener","onDocumentMouseDown","onDocumentMouseMove","onDocumentMouseUp","removeEventListener","right","bottom","intersects","intersectObjects","eventName","target","domEvent","EventEmitter"],"mappings":"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"}