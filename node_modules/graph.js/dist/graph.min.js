(function e(r,t){if(typeof exports==="object"&&typeof module==="object")module.exports=t();else if(typeof define==="function"&&define.amd)define([],t);else if(typeof exports==="object")exports["Graph"]=t();else r["Graph"]=t()})(this,function(){return function(e){var r={};function t(n){if(r[n])return r[n].exports;var a=r[n]={exports:{},id:n,loaded:false};e[n].call(a.exports,a,a.exports,t);a.loaded=true;return a.exports}t.m=e;t.c=r;t.p="";return t(0)}({0:function(e,r,t){e.exports=t(39)},39:function(e,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});var t=Function.prototype.bind;var n=function(){function e(e,r){var t=[];var n=true;var a=false;var i=undefined;try{for(var s=e[Symbol.iterator](),u;!(n=(u=s.next()).done);n=true){t.push(u.value);if(r&&t.length===r)break}}catch(o){a=true;i=o}finally{try{if(!n&&s["return"])s["return"]()}finally{if(a)throw i}}return t}return function(r,t){if(Array.isArray(r)){return r}else if(Symbol.iterator in Object(r)){return e(r,t)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var a=function j(e,r,t){var n=true;e:while(n){var a=e,i=r,s=t;n=false;if(a===null)a=Function.prototype;var u=Object.getOwnPropertyDescriptor(a,i);if(u===undefined){var o=Object.getPrototypeOf(a);if(o===null){return undefined}else{e=o;r=i;t=s;n=true;u=o=undefined;continue e}}else if("value"in u){return u.value}else{var f=u.get;if(f===undefined){return undefined}return f.call(s)}}};var i=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(r,t,n){if(t)e(r.prototype,t);if(n)e(r,n);return r}}();function s(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}else{return Array.from(e)}}function u(e,r){if(typeof r!=="function"&&r!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof r)}e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(r)Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r}function o(e,r){if(!(e instanceof r)){throw new TypeError("Cannot call a class as a function")}}var f=Symbol("vertices");var c=Symbol("edges");var v=Symbol("reverse edges");var l=Symbol("sources");var h=Symbol("sinks");var d=Symbol("edge count");var y=Symbol("listeners");var g=Symbol("trigger");var p=Symbol("vertices from");var x=Symbol("vertices to");var m=Symbol("vertices with path to");var b=Symbol("vertices with path from");var k=Symbol("paths");var w=Symbol("expect vertices");var E=Symbol("expect vertex absent");var S=Symbol("expect edge");var V=Symbol("expect edge absent");var O=Symbol("expect no connected edges");var R=function(){function e(){o(this,e);this[f]=new Map;this[c]=new Map;this[v]=new Map;this[l]=new Set;this[h]=new Set;this[d]=0;this[y]=new Map;var r=true;var t=false;var a=undefined;try{for(var i=arguments.length,s=Array(i),u=0;u<i;u++){s[u]=arguments[u]}for(var g=s[Symbol.iterator](),p;!(r=(p=g.next()).done);r=true){var x=n(p.value,2);var m=x[0];var b=x[1];if(Array.isArray(m)){var k=n(m,2);var w=k[0];var E=k[1];this.createEdge(w,E,b)}else{this.addVertex(m,b)}}}catch(S){t=true;a=S}finally{try{if(!r&&g["return"]){g["return"]()}}finally{if(t){throw a}}}}i(e,[{key:"on",value:function r(e,t){if(!this[y].has(e)){this[y].set(e,new Set)}this[y].get(e).add(t)}},{key:"off",value:function a(e,r){if(this[y].has(e)){this[y].get(e)["delete"](r)}}},{key:g,value:function u(e,r){var t=true;var n=false;var a=undefined;try{for(var i=(this[y].get(e)||[])[Symbol.iterator](),s;!(t=(s=i.next()).done);t=true){var u=s.value;u(r)}}catch(o){n=true;a=o}finally{try{if(!t&&i["return"]){i["return"]()}}finally{if(n){throw a}}}}},{key:"addNewVertex",value:function R(e,r){this[E](e);this[f].set(e,r);this[c].set(e,new Map);this[v].set(e,new Set);this[l].add(e);this[h].add(e);this[g]("vertex-added",[e,r]);this[g]("vertex-modified",[e,r])}},{key:"setVertex",value:function j(e,r){this[w](e);this[f].set(e,r);this[g]("vertex-modified",[e,r])}},{key:"ensureVertex",value:function N(e,r){if(!this.hasVertex(e)){this.addNewVertex(e,r)}}},{key:"addVertex",value:function A(e,r){if(this.hasVertex(e)){this.setVertex(e,r)}else{this.addNewVertex(e,r)}}},{key:"removeExistingVertex",value:function P(e){this[w](e);this[O](e);this[f]["delete"](e);this[l]["delete"](e);this[h]["delete"](e);this[g]("vertex-removed",e)}},{key:"destroyExistingVertex",value:function T(e){this[w](e);var r=true;var t=false;var a=undefined;try{for(var i=this.verticesFrom(e)[Symbol.iterator](),s;!(r=(s=i.next()).done);r=true){var u=n(s.value,1);var o=u[0];this.removeEdge(e,o)}}catch(f){t=true;a=f}finally{try{if(!r&&i["return"]){i["return"]()}}finally{if(t){throw a}}}var c=true;var v=false;var l=undefined;try{for(var h=this.verticesTo(e)[Symbol.iterator](),d;!(c=(d=h.next()).done);c=true){var y=n(d.value,1);var g=y[0];this.removeEdge(g,e)}}catch(f){v=true;l=f}finally{try{if(!c&&h["return"]){h["return"]()}}finally{if(v){throw l}}}this.removeExistingVertex(e)}},{key:"removeVertex",value:function C(e){if(this.hasVertex(e)){this.removeExistingVertex(e)}}},{key:"destroyVertex",value:function F(e){if(this.hasVertex(e)){this.destroyExistingVertex(e)}}},{key:"vertexCount",value:function z(){return this[f].size}},{key:"hasVertex",value:function D(e){return this[f].has(e)}},{key:"vertexValue",value:function M(e){return this[f].get(e)}},{key:"addNewEdge",value:function Y(e,r,t){this[V]([e,r]);this[w](e,r);this[c].get(e).set(r,t);this[v].get(r).add(e);this[d]+=1;this[l]["delete"](r);this[h]["delete"](e);this[g]("edge-added",[[e,r],t]);this[g]("edge-modified",[[e,r],t])}},{key:"createNewEdge",value:function _(e,r,t){this[V]([e,r]);this.ensureVertex(e);this.ensureVertex(r);this.addNewEdge(e,r,t)}},{key:"setEdge",value:function I(e,r,t){this[S]([e,r]);this[c].get(e).set(r,t);this[g]("edge-modified",[[e,r],t])}},{key:"spanEdge",value:function J(e,r,t){this[w](e,r);if(!this.hasEdge(e,r)){this.addNewEdge(e,r,t)}}},{key:"addEdge",value:function B(e,r,t){if(this.hasEdge(e,r)){this.setEdge(e,r,t)}else{this.addNewEdge(e,r,t)}}},{key:"ensureEdge",value:function G(e,r,t){if(!this.hasEdge(e,r)){this.createNewEdge(e,r,t)}}},{key:"createEdge",value:function H(e,r,t){if(this.hasEdge(e,r)){this.setEdge(e,r,t)}else{this.createNewEdge(e,r,t)}}},{key:"removeExistingEdge",value:function W(e,r){this[S]([e,r]);this[c].get(e)["delete"](r);this[v].get(r)["delete"](e);this[d]-=1;if(this.inDegree(r)===0){this[l].add(r)}if(this.outDegree(e)===0){this[h].add(e)}this[g]("edge-removed",[e,r])}},{key:"removeEdge",value:function q(e,r){if(this.hasEdge(e,r)){this.removeExistingEdge(e,r)}}},{key:"edgeCount",value:function K(){return this[d]}},{key:"hasEdge",value:function L(e,r){return this.hasVertex(e)&&this.hasVertex(r)&&this[c].has(e)&&this[c].get(e).has(r)}},{key:"edgeValue",value:function Q(e,r){return this.hasEdge(e,r)?this[c].get(e).get(r):undefined}},{key:"vertices",value:regeneratorRuntime.mark(function U(){var e,r,t,a,i,s,u,o,c;return regeneratorRuntime.wrap(function v(l){while(1)switch(l.prev=l.next){case 0:e=new Set;r=true;t=false;a=undefined;l.prev=4;i=this[f][Symbol.iterator]();case 6:if(r=(s=i.next()).done){l.next=17;break}u=n(s.value,2);o=u[0];c=u[1];if(!(this.hasVertex(o)&&!e.has(o))){l.next=14;break}e.add(o);l.next=14;return[o,c];case 14:r=true;l.next=6;break;case 17:l.next=23;break;case 19:l.prev=19;l.t0=l["catch"](4);t=true;a=l.t0;case 23:l.prev=23;l.prev=24;if(!r&&i["return"]){i["return"]()}case 26:l.prev=26;if(!t){l.next=29;break}throw a;case 29:return l.finish(26);case 30:return l.finish(23);case 31:case"end":return l.stop()}},U,this,[[4,19,23,31],[24,,26,30]])})},{key:Symbol.iterator,value:function X(){return this.vertices()}},{key:"edges",value:regeneratorRuntime.mark(function Z(){var e,r,t,n,a,i,s,u,o,f,v,l,h;return regeneratorRuntime.wrap(function d(y){while(1)switch(y.prev=y.next){case 0:e=new Map;r=true;t=false;n=undefined;y.prev=4;a=this[c].keys()[Symbol.iterator]();case 6:if(r=(i=a.next()).done){y.next=40;break}s=i.value;e.set(s,new Set);u=true;o=false;f=undefined;y.prev=12;v=this[c].get(s).keys()[Symbol.iterator]();case 14:if(u=(l=v.next()).done){y.next=23;break}h=l.value;if(!(this.hasEdge(s,h)&&!e.get(s).has(h))){y.next=20;break}e.get(s).add(h);y.next=20;return[s,h,this[c].get(s).get(h)];case 20:u=true;y.next=14;break;case 23:y.next=29;break;case 25:y.prev=25;y.t0=y["catch"](12);o=true;f=y.t0;case 29:y.prev=29;y.prev=30;if(!u&&v["return"]){v["return"]()}case 32:y.prev=32;if(!o){y.next=35;break}throw f;case 35:return y.finish(32);case 36:return y.finish(29);case 37:r=true;y.next=6;break;case 40:y.next=46;break;case 42:y.prev=42;y.t1=y["catch"](4);t=true;n=y.t1;case 46:y.prev=46;y.prev=47;if(!r&&a["return"]){a["return"]()}case 49:y.prev=49;if(!t){y.next=52;break}throw n;case 52:return y.finish(49);case 53:return y.finish(46);case 54:case"end":return y.stop()}},Z,this,[[4,42,46,54],[12,25,29,37],[30,,32,36],[47,,49,53]])})},{key:"verticesFrom",value:function $(e){this[w](e);return this[p](e)}},{key:p,value:regeneratorRuntime.mark(function ee(e){var r,t,n,a,i,s,u;return regeneratorRuntime.wrap(function o(v){while(1)switch(v.prev=v.next){case 0:r=new Set;t=true;n=false;a=undefined;v.prev=4;i=this[c].get(e).keys()[Symbol.iterator]();case 6:if(t=(s=i.next()).done){v.next=15;break}u=s.value;if(!(this.hasEdge(e,u)&&!r.has(u))){v.next=12;break}r.add(u);v.next=12;return[u,this[f].get(u),this[c].get(e).get(u)];case 12:t=true;v.next=6;break;case 15:v.next=21;break;case 17:v.prev=17;v.t0=v["catch"](4);n=true;a=v.t0;case 21:v.prev=21;v.prev=22;if(!t&&i["return"]){i["return"]()}case 24:v.prev=24;if(!n){v.next=27;break}throw a;case 27:return v.finish(24);case 28:return v.finish(21);case 29:case"end":return v.stop()}},ee,this,[[4,17,21,29],[22,,24,28]])})},{key:"verticesTo",value:function re(e){this[w](e);return this[x](e)}},{key:x,value:regeneratorRuntime.mark(function te(e){var r,t,n,a,i,s,u;return regeneratorRuntime.wrap(function o(l){while(1)switch(l.prev=l.next){case 0:r=new Set;t=true;n=false;a=undefined;l.prev=4;i=this[v].get(e)[Symbol.iterator]();case 6:if(t=(s=i.next()).done){l.next=15;break}u=s.value;if(!(this.hasEdge(u,e)&&!r.has(u))){l.next=12;break}r.add(u);l.next=12;return[u,this[f].get(u),this[c].get(u).get(e)];case 12:t=true;l.next=6;break;case 15:l.next=21;break;case 17:l.prev=17;l.t0=l["catch"](4);n=true;a=l.t0;case 21:l.prev=21;l.prev=22;if(!t&&i["return"]){i["return"]()}case 24:l.prev=24;if(!n){l.next=27;break}throw a;case 27:return l.finish(24);case 28:return l.finish(21);case 29:case"end":return l.stop()}},te,this,[[4,17,21,29],[22,,24,28]])})},{key:"verticesWithPathFrom",value:function ne(e){this[w](e);return this[b](e,new Set)}},{key:b,value:regeneratorRuntime.mark(function ae(e,r){var t,n,a,i,s,u;return regeneratorRuntime.wrap(function o(v){while(1)switch(v.prev=v.next){case 0:t=true;n=false;a=undefined;v.prev=3;i=this[c].get(e).keys()[Symbol.iterator]();case 5:if(t=(s=i.next()).done){v.next=15;break}u=s.value;if(!(this.hasEdge(e,u)&&!r.has(u))){v.next=12;break}r.add(u);v.next=11;return[u,this[f].get(u)];case 11:return v.delegateYield(this[b](u,r),"t0",12);case 12:t=true;v.next=5;break;case 15:v.next=21;break;case 17:v.prev=17;v.t1=v["catch"](3);n=true;a=v.t1;case 21:v.prev=21;v.prev=22;if(!t&&i["return"]){i["return"]()}case 24:v.prev=24;if(!n){v.next=27;break}throw a;case 27:return v.finish(24);case 28:return v.finish(21);case 29:case"end":return v.stop()}},ae,this,[[3,17,21,29],[22,,24,28]])})},{key:"verticesWithPathTo",value:function ie(e){this[w](e);return this[m](e,new Set)}},{key:m,value:regeneratorRuntime.mark(function se(e,r){var t,n,a,i,s,u;return regeneratorRuntime.wrap(function o(c){while(1)switch(c.prev=c.next){case 0:t=true;n=false;a=undefined;c.prev=3;i=this[v].get(e)[Symbol.iterator]();case 5:if(t=(s=i.next()).done){c.next=15;break}u=s.value;if(!(this.hasEdge(u,e)&&!r.has(u))){c.next=12;break}r.add(u);c.next=11;return[u,this[f].get(u)];case 11:return c.delegateYield(this[m](u,r),"t0",12);case 12:t=true;c.next=5;break;case 15:c.next=21;break;case 17:c.prev=17;c.t1=c["catch"](3);n=true;a=c.t1;case 21:c.prev=21;c.prev=22;if(!t&&i["return"]){i["return"]()}case 24:c.prev=24;if(!n){c.next=27;break}throw a;case 27:return c.finish(24);case 28:return c.finish(21);case 29:case"end":return c.stop()}},se,this,[[3,17,21,29],[22,,24,28]])})},{key:"sources",value:regeneratorRuntime.mark(function ue(){var e,r,t,n,a,i,s;return regeneratorRuntime.wrap(function u(o){while(1)switch(o.prev=o.next){case 0:e=new Set;r=true;t=false;n=undefined;o.prev=4;a=this[l][Symbol.iterator]();case 6:if(r=(i=a.next()).done){o.next=15;break}s=i.value;if(!(this.hasVertex(s)&&!e.has(s))){o.next=12;break}e.add(s);o.next=12;return[s,this.vertexValue(s)];case 12:r=true;o.next=6;break;case 15:o.next=21;break;case 17:o.prev=17;o.t0=o["catch"](4);t=true;n=o.t0;case 21:o.prev=21;o.prev=22;if(!r&&a["return"]){a["return"]()}case 24:o.prev=24;if(!t){o.next=27;break}throw n;case 27:return o.finish(24);case 28:return o.finish(21);case 29:case"end":return o.stop()}},ue,this,[[4,17,21,29],[22,,24,28]])})},{key:"sinks",value:regeneratorRuntime.mark(function oe(){var e,r,t,n,a,i,s;return regeneratorRuntime.wrap(function u(o){while(1)switch(o.prev=o.next){case 0:e=new Set;r=true;t=false;n=undefined;o.prev=4;a=this[h][Symbol.iterator]();case 6:if(r=(i=a.next()).done){o.next=15;break}s=i.value;if(!(this.hasVertex(s)&&!e.has(s))){o.next=12;break}e.add(s);o.next=12;return[s,this.vertexValue(s)];case 12:r=true;o.next=6;break;case 15:o.next=21;break;case 17:o.prev=17;o.t0=o["catch"](4);t=true;n=o.t0;case 21:o.prev=21;o.prev=22;if(!r&&a["return"]){a["return"]()}case 24:o.prev=24;if(!t){o.next=27;break}throw n;case 27:return o.finish(24);case 28:return o.finish(21);case 29:case"end":return o.stop()}},oe,this,[[4,17,21,29],[22,,24,28]])})},{key:"vertices_topologically",value:regeneratorRuntime.mark(function fe(){var r,t,a,i,s,u,o,c,v,l,h,d;return regeneratorRuntime.wrap(function y(g){while(1)switch(g.prev=g.next){case 0:s=function p(s){var u,o,c,v,l,h,d,y,g;return regeneratorRuntime.wrap(function x(r){while(1)switch(r.prev=r.next){case 0:t.push(s);u=t.indexOf(s);if(!(u!==t.length-1)){r.next=5;break}o=t.slice(u+1).reverse();throw new e.CycleError(o);case 5:if(a.has(s)){r.next=36;break}c=true;v=false;l=undefined;r.prev=9;h=i.verticesTo(s)[Symbol.iterator]();case 11:if(c=(d=h.next()).done){r.next=18;break}y=n(d.value,1);g=y[0];return r.delegateYield(p(g),"t0",15);case 15:c=true;r.next=11;break;case 18:r.next=24;break;case 20:r.prev=20;r.t1=r["catch"](9);v=true;l=r.t1;case 24:r.prev=24;r.prev=25;if(!c&&h["return"]){h["return"]()}case 27:r.prev=27;if(!v){r.next=30;break}throw l;case 30:return r.finish(27);case 31:return r.finish(24);case 32:if(!i.hasVertex(s)){r.next=35;break}r.next=35;return[s,i[f].get(s)];case 35:a.add(s);case 36:t.pop();case 37:case"end":return r.stop()}},r[0],this,[[9,20,24,32],[25,,27,31]])};r=[s].map(regeneratorRuntime.mark);t=[];a=new Set;i=this;u=true;o=false;c=undefined;g.prev=8;v=this.vertices()[Symbol.iterator]();case 10:if(u=(l=v.next()).done){g.next=18;break}h=n(l.value,1);d=h[0];if(a.has(d)){g.next=15;break}return g.delegateYield(s(d),"t0",15);case 15:u=true;g.next=10;break;case 18:g.next=24;break;case 20:g.prev=20;g.t1=g["catch"](8);o=true;c=g.t1;case 24:g.prev=24;g.prev=25;if(!u&&v["return"]){v["return"]()}case 27:g.prev=27;if(!o){g.next=30;break}throw c;case 30:return g.finish(27);case 31:return g.finish(24);case 32:case"end":return g.stop()}},fe,this,[[8,20,24,32],[25,,27,31]])})},{key:"clearEdges",value:function ce(){var e=true;var r=false;var t=undefined;try{for(var a=this.edges()[Symbol.iterator](),i;!(e=(i=a.next()).done);e=true){var s=n(i.value,2);var u=s[0];var o=s[1];this.removeEdge(u,o)}}catch(f){r=true;t=f}finally{try{if(!e&&a["return"]){a["return"]()}}finally{if(r){throw t}}}}},{key:"clear",value:function ve(){var e=true;var r=false;var t=undefined;try{for(var a=this.vertices()[Symbol.iterator](),i;!(e=(i=a.next()).done);e=true){var s=n(i.value,1);var u=s[0];this.destroyVertex(u)}}catch(o){r=true;t=o}finally{try{if(!e&&a["return"]){a["return"]()}}finally{if(r){throw t}}}}},{key:"equals",value:function le(r){var t=arguments.length<=1||arguments[1]===undefined?function(e,r){return e===r}:arguments[1];var a=arguments.length<=2||arguments[2]===undefined?t:arguments[2];return function(){if(!(r instanceof e)){return false}if(this.vertexCount()!==r.vertexCount()){return false}if(this.edgeCount()!==r.edgeCount()){return false}var i=true;var s=false;var u=undefined;try{for(var o=this.vertices()[Symbol.iterator](),f;!(i=(f=o.next()).done);i=true){var c=n(f.value,2);var v=c[0];var l=c[1];if(!r.hasVertex(v)){return false}if(!t(l,r.vertexValue(v),v)){return false}}}catch(h){s=true;u=h}finally{try{if(!i&&o["return"]){o["return"]()}}finally{if(s){throw u}}}var d=true;var y=false;var g=undefined;try{for(var p=this.edges()[Symbol.iterator](),x;!(d=(x=p.next()).done);d=true){var m=n(x.value,3);var b=m[0];var k=m[1];var l=m[2];if(!r.hasEdge(b,k)){return false}if(!a(l,r.edgeValue(b,k),b,k)){return false}}}catch(h){y=true;g=h}finally{try{if(!d&&p["return"]){p["return"]()}}finally{if(y){throw g}}}return true}.apply(this,arguments)}},{key:"cycles",value:regeneratorRuntime.mark(function he(){var e,r,t,a,i,u,o,f,c,v,l,h,d;return regeneratorRuntime.wrap(function y(g){while(1)switch(g.prev=g.next){case 0:u=function p(u){var o=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var f,c,v,l,h,d;return regeneratorRuntime.wrap(function y(e){while(1)switch(e.prev=e.next){case 0:r.push(u);a.add(u);t.push(u);f=[].concat(s(i.verticesFrom(u)));c=0;case 5:if(!(c<f.length)){e.next=23;break}v=n(f[c],1);l=v[0];if(!(l<r[0])){e.next=10;break}return e.abrupt("continue",20);case 10:if(!(l===r[0])){e.next=16;break}e.next=13;return[].concat(r);case 13:o.found=true;e.next=20;break;case 16:if(a.has(l)){e.next=20;break}h={};return e.delegateYield(p(l,h),"t0",19);case 19:o.found=o.found||h.found;case 20:c++;e.next=5;break;case 23:if(o.found){d=undefined;do{d=t.pop();a["delete"](d)}while(d!==u)}r.pop();case 25:case"end":return e.stop()}},e[0],this)};e=[u].map(regeneratorRuntime.mark);r=[];t=undefined,a=undefined;i=this;o=true;f=false;c=undefined;g.prev=8;v=this.vertices()[Symbol.iterator]();case 10:if(o=(l=v.next()).done){g.next=19;break}h=n(l.value,1);d=h[0];t=[];a=new Set;return g.delegateYield(u(d),"t0",16);case 16:o=true;g.next=10;break;case 19:g.next=25;break;case 21:g.prev=21;g.t1=g["catch"](8);f=true;c=g.t1;case 25:g.prev=25;g.prev=26;if(!o&&v["return"]){v["return"]()}case 28:g.prev=28;if(!f){g.next=31;break}throw c;case 31:return g.finish(28);case 32:return g.finish(25);case 33:case"end":return g.stop()}},he,this,[[8,21,25,33],[26,,28,32]])})},{key:"cycle",value:function de(){var e=this.cycles().next();return e.done?null:e.value}},{key:"hasCycle",value:function ye(){return!this.cycles().next().done}},{key:"paths",value:function ge(e,r){this[w](e,r);return this[k](e,r)}},{key:k,value:regeneratorRuntime.mark(function pe(e,r){var t,a,i,s;return regeneratorRuntime.wrap(function u(o){while(1)switch(o.prev=o.next){case 0:s=function f(e){var s,u,o,c,v,l,h;return regeneratorRuntime.wrap(function d(t){while(1)switch(t.prev=t.next){case 0:a.push(e);s=true;u=false;o=undefined;t.prev=4;c=i.verticesFrom(e)[Symbol.iterator]();case 6:if(s=(v=c.next()).done){t.next=19;break}l=n(v.value,1);h=l[0];if(!(h===r)){t.next=14;break}t.next=12;return[].concat(a,[r]);case 12:t.next=16;break;case 14:if(!(a.indexOf(h)===-1)){t.next=16;break}return t.delegateYield(f(h),"t0",16);case 16:s=true;t.next=6;break;case 19:t.next=25;break;case 21:t.prev=21;t.t1=t["catch"](4);u=true;o=t.t1;case 25:t.prev=25;t.prev=26;if(!s&&c["return"]){c["return"]()}case 28:t.prev=28;if(!u){t.next=31;break}throw o;case 31:return t.finish(28);case 32:return t.finish(25);case 33:a.pop();case 34:case"end":return t.stop()}},t[0],this,[[4,21,25,33],[26,,28,32]])};t=[s].map(regeneratorRuntime.mark);a=[];i=this;return o.delegateYield(s(e),"t0",5);case 5:case"end":return o.stop()}},pe,this)})},{key:"path",value:function xe(e,r){var t=this.paths(e,r).next();return t.done?null:t.value}},{key:"hasPath",value:function me(e,r){return!this.paths(e,r).next().done}},{key:"outDegree",value:function be(e){this[w](e);return this[c].get(e).size}},{key:"inDegree",value:function ke(e){this[w](e);return this[v].get(e).size}},{key:"degree",value:function we(e){return this.outDegree(e)+this.inDegree(e)}},{key:"mergeIn",value:function Ee(e,r,t){if(!r){r=function(e,r){return typeof r==="undefined"?e:r}}if(!t){t=r}var a=true;var i=false;var s=undefined;try{for(var u=e.vertices()[Symbol.iterator](),o;!(a=(o=u.next()).done);a=true){var f=n(o.value,1);var c=f[0];this.addVertex(c,r(this.vertexValue(c),e.vertexValue(c),c))}}catch(v){i=true;s=v}finally{try{if(!a&&u["return"]){u["return"]()}}finally{if(i){throw s}}}var l=true;var h=false;var d=undefined;try{for(var y=e.edges()[Symbol.iterator](),g;!(l=(g=y.next()).done);l=true){var p=n(g.value,2);var x=p[0];var m=p[1];this.addEdge(x,m,t(this.edgeValue(x,m),e.edgeValue(x,m),x,m))}}catch(v){h=true;d=v}finally{try{if(!l&&y["return"]){y["return"]()}}finally{if(h){throw d}}}}},{key:"clone",value:function Se(){var r=arguments.length<=0||arguments[0]===undefined?function(e){return e}:arguments[0];var t=arguments.length<=1||arguments[1]===undefined?r:arguments[1];return function(){var n=new e;n.mergeIn(this,function(e,t,n){return r(t,n)},function(e,r,n,a){return t(r,n,a)});return n}.apply(this,arguments)}},{key:"transitiveReduction",value:function Ve(e,r){var t=this.clone(e,r);var a=true;var i=false;var s=undefined;try{for(var u=this.vertices()[Symbol.iterator](),o;!(a=(o=u.next()).done);a=true){var f=n(o.value,1);var c=f[0];var v=true;var l=false;var h=undefined;try{for(var d=this.vertices()[Symbol.iterator](),y;!(v=(y=d.next()).done);v=true){var g=n(y.value,1);var p=g[0];if(t.hasEdge(c,p)){var x=true;var m=false;var b=undefined;try{for(var k=this.vertices()[Symbol.iterator](),w;!(x=(w=k.next()).done);x=true){var E=n(w.value,1);var S=E[0];if(t.hasPath(p,S))t.removeEdge(c,S)}}catch(V){m=true;b=V}finally{try{if(!x&&k["return"]){k["return"]()}}finally{if(m){throw b}}}}}}catch(V){l=true;h=V}finally{try{if(!v&&d["return"]){d["return"]()}}finally{if(l){throw h}}}}}catch(V){i=true;s=V}finally{try{if(!a&&u["return"]){u["return"]()}}finally{if(i){throw s}}}return t}},{key:"contractPaths",value:function Oe(){var r=this;var t=arguments.length<=0||arguments[0]===undefined?function(){return false}:arguments[0];var a=new Set([].concat(s(this.vertices())).filter(function(e){var a=n(e,2);var i=a[0];var s=a[1];return r.outDegree(i)!==1||r.inDegree(i)!==1||t(i,s)}).map(function(e){var r=n(e,1);var t=r[0];return t}));{var i;var u;var o;var f,c;(function(){var t=new Set([].concat(s(r.vertices())).map(function(e){var r=n(e,1);var t=r[0];return t}));var v=function p(e){if(!t.has(e)){return}t["delete"](e);var a=true;var i=false;var s=undefined;try{for(var u=r.verticesFrom(e)[Symbol.iterator](),o;!(a=(o=u.next()).done);a=true){var f=n(o.value,1);var c=f[0];p(c)}}catch(v){i=true;s=v}finally{try{if(!a&&u["return"]){u["return"]()}}finally{if(i){throw s}}}var l=true;var h=false;var d=undefined;try{for(var y=r.verticesTo(e)[Symbol.iterator](),g;!(l=(g=y.next()).done);l=true){var x=n(g.value,1);var c=x[0];p(c)}}catch(v){h=true;d=v}finally{try{if(!l&&y["return"]){y["return"]()}}finally{if(h){throw d}}}};i=true;u=false;o=undefined;try{for(f=a[Symbol.iterator]();!(i=(c=f.next()).done);i=true){var l=c.value;v(l)}}catch(h){u=true;o=h}finally{try{if(!i&&f["return"]){f["return"]()}}finally{if(u){throw o}}}if(t.size>0){var d=t.values().next().value,y=[],g=d;do{y.push(g);g=r.verticesFrom(g).next().value[0]}while(g!==d);throw new e.BranchlessCycleError(y)}})()}var v=new Map;var l=function Q(t,n,i){var u=function R(){var e=arguments.length<=0||arguments[0]===undefined?t:arguments[0];var r=arguments.length<=1||arguments[1]===undefined?n:arguments[1];return i?[r,e]:[e,r]};var o=function j(e){return i?r.verticesTo(e):r.verticesFrom(e)};var f=new Set;var c=new Set;var l=new e;l.addVertex(t,r.vertexValue(t));l.addVertex(n,r.vertexValue(n));l.addNewEdge.apply(l,s(u()).concat([r.edgeValue.apply(r,s(u()))]));c.add(u());var h=undefined;while(!a.has(n)){var d=[n,o(n).next().value[0]];h=d[0];n=d[1];l.addVertex(n,r.vertexValue(n));l.addNewEdge.apply(l,s(u(h,n)).concat([r.edgeValue.apply(r,s(u(h,n)))]));f.add(h);c.add(u(h,n))}if(!v.get(u()[0])){v.set(u()[0],new Map)}if(!v.get(u()[0]).get(u()[1])){v.get(u()[0]).set(u()[1],new e)}v.get(u()[0]).get(u()[1]).mergeIn(l);var y=true;var g=false;var p=undefined;try{for(var x=c[Symbol.iterator](),m;!(y=(m=x.next()).done);y=true){var b=m.value;r.removeExistingEdge.apply(r,s(b))}}catch(k){g=true;p=k}finally{try{if(!y&&x["return"]){x["return"]()}}finally{if(g){throw p}}}var w=true;var E=false;var S=undefined;try{for(var V=f[Symbol.iterator](),O;!(w=(O=V.next()).done);w=true){var b=O.value;r.destroyExistingVertex(b)}}catch(k){E=true;S=k}finally{try{if(!w&&V["return"]){V["return"]()}}finally{if(E){throw S}}}};var h=true;var d=false;var y=undefined;try{for(var g=a[Symbol.iterator](),p;!(h=(p=g.next()).done);h=true){var x=p.value;var m=true;var b=false;var k=undefined;try{for(var w=this.verticesFrom(x)[Symbol.iterator](),E;!(m=(E=w.next()).done);m=true){var S=n(E.value,1);var V=S[0];l(x,V,false)}}catch(O){b=true;k=O}finally{try{if(!m&&w["return"]){w["return"]()}}finally{if(b){throw k}}}var R=true;var j=false;var N=undefined;try{for(var A=this.verticesTo(x)[Symbol.iterator](),P;!(R=(P=A.next()).done);R=true){var T=n(P.value,1);var V=T[0];l(x,V,true)}}catch(O){j=true;N=O}finally{try{if(!R&&A["return"]){A["return"]()}}finally{if(j){throw N}}}}}catch(O){d=true;y=O}finally{try{if(!h&&g["return"]){g["return"]()}}finally{if(d){throw y}}}var C=true;var F=false;var z=undefined;try{for(var D=v[Symbol.iterator](),M;!(C=(M=D.next()).done);C=true){var Y=n(M.value,2);var _=Y[0];var I=Y[1];var J=true;var B=false;var G=undefined;try{for(var H=I[Symbol.iterator](),W;!(J=(W=H.next()).done);J=true){var q=n(W.value,2);var K=q[0];var L=q[1];this.addNewEdge(_,K,L)}}catch(O){B=true;G=O}finally{try{if(!J&&H["return"]){H["return"]()}}finally{if(B){throw G}}}}}catch(O){F=true;z=O}finally{try{if(!C&&D["return"]){D["return"]()}}finally{if(F){throw z}}}}},{key:"toJSON",value:function Re(){var e=[];var r=true;var t=false;var a=undefined;try{for(var i=this.vertices()[Symbol.iterator](),s;!(r=(s=i.next()).done);r=true){var u=n(s.value,2);var o=u[0];var f=u[1];if(typeof f==="undefined"){e.push([o])}else{e.push([o,f])}}}catch(c){t=true;a=c}finally{try{if(!r&&i["return"]){i["return"]()}}finally{if(t){throw a}}}var v=true;var l=false;var h=undefined;try{for(var d=this.edges()[Symbol.iterator](),y;!(v=(y=d.next()).done);v=true){var g=n(y.value,3);var p=g[0];var x=g[1];var f=g[2];if(typeof f==="undefined"){e.push([[p,x]])}else{e.push([[p,x],f])}}}catch(c){l=true;h=c}finally{try{if(!v&&d["return"]){d["return"]()}}finally{if(l){throw h}}}return JSON.stringify(e)}},{key:w,value:function je(){var r=this;for(var n=arguments.length,a=Array(n),i=0;i<n;i++){a[i]=arguments[i]}var u=a.filter(function(e){return!r.hasVertex(e)});if(u.length){throw new(t.apply(e.VertexNotExistsError,[null].concat(s(u))))}}},{key:E,value:function Ne(){var r=this;for(var n=arguments.length,a=Array(n),i=0;i<n;i++){a[i]=arguments[i]}var u=a.filter(function(e){return r.hasVertex(e)});if(u.length){throw new(t.apply(e.VertexExistsError,[null].concat(s(u.map(function(e){return[e,r.vertexValue(e)]})))))}}},{key:S,value:function Ae(){var r=this;for(var n=arguments.length,a=Array(n),i=0;i<n;i++){a[i]=arguments[i]}var u=a.filter(function(e){return!r.hasEdge.apply(r,s(e))});if(u.length){throw new(t.apply(e.EdgeNotExistsError,[null].concat(s(u))))}}},{key:V,value:function Pe(){var r=this;for(var n=arguments.length,a=Array(n),i=0;i<n;i++){a[i]=arguments[i]}var u=a.filter(function(e){return r.hasEdge.apply(r,s(e))});if(u.length){throw new(t.apply(e.EdgeExistsError,[null].concat(s(u.map(function(e){return[e,r.edgeValue.apply(r,s(e))]})))))}}},{key:O,value:function Te(r){var a=[];var i=true;var s=false;var u=undefined;try{for(var o=this.verticesFrom(r)[Symbol.iterator](),f;!(i=(f=o.next()).done);i=true){var c=n(f.value,1);var v=c[0];a.push([[r,v],this.edgeValue(r,v)])}}catch(l){s=true;u=l}finally{try{if(!i&&o["return"]){o["return"]()}}finally{if(s){throw u}}}var h=true;var d=false;var y=undefined;try{for(var g=this.verticesTo(r)[Symbol.iterator](),p;!(h=(p=g.next()).done);h=true){var x=n(p.value,1);var m=x[0];a.push([[m,r],this.edgeValue(m,r)])}}catch(l){d=true;y=l}finally{try{if(!h&&g["return"]){g["return"]()}}finally{if(d){throw y}}}if(a.length){throw new(t.apply(e.HasConnectedEdgesError,[null].concat([r],a)))}}}],[{key:"fromJSON",value:function Ce(e){return new(t.apply(this,[null].concat(s(JSON.parse(e)))))}}]);return e}();r["default"]=R;R.VertexExistsError=function(e){u(r,e);function r(){o(this,r);a(Object.getPrototypeOf(r.prototype),"constructor",this).call(this);for(var e=arguments.length,t=Array(e),i=0;i<e;i++){t[i]=arguments[i]}this.vertices=new Set(t);this.message="This graph has "+(this.vertices.size===1?"a vertex":"vertices")+" '"+[].concat(s(this.vertices)).map(function(e){var r=n(e,1);var t=r[0];return t}).join("', '")+"'"}return r}(Error);R.VertexNotExistsError=function(e){u(r,e);function r(){o(this,r);a(Object.getPrototypeOf(r.prototype),"constructor",this).call(this);for(var e=arguments.length,t=Array(e),n=0;n<e;n++){t[n]=arguments[n]}this.vertices=new Set(t);this.message="This graph does not have "+(this.vertices.size===1?"a vertex":"vertices")+" '"+[].concat(s(this.vertices)).join("', '")+"'"}return r}(Error);R.EdgeExistsError=function(e){u(r,e);function r(){o(this,r);a(Object.getPrototypeOf(r.prototype),"constructor",this).call(this);for(var e=arguments.length,t=Array(e),i=0;i<e;i++){t[i]=arguments[i]}this.edges=new Set(t);this.message="This graph has "+(this.edges.size===1?"an edge":"edges")+" "+[].concat(s(this.edges)).map(function(e){var r=n(e,1);var t=n(r[0],2);var a=t[0];var i=t[1];return"['"+a+"', '"+i+"']"}).join(", ")}return r}(Error);R.EdgeNotExistsError=function(e){u(r,e);function r(){o(this,r);a(Object.getPrototypeOf(r.prototype),"constructor",this).call(this);for(var e=arguments.length,t=Array(e),i=0;i<e;i++){t[i]=arguments[i]}this.edges=new Set(t);this.message="This graph does not have "+(this.edges.size===1?"an edge":"edges")+" "+[].concat(s(this.edges)).map(function(e){var r=n(e,2);var t=r[0];var a=r[1];return"['"+t+"', '"+a+"']"}).join(", ")}return r}(Error);R.HasConnectedEdgesError=function(e){u(r,e);function r(e){o(this,r);for(var t=arguments.length,i=Array(t>1?t-1:0),u=1;u<t;u++){i[u-1]=arguments[u]}a(Object.getPrototypeOf(r.prototype),"constructor",this).apply(this,i);this.vertex=e;this.message="The '"+e+"' vertex has connected "+(this.edges.size===1?"an edge":"edges")+" "+[].concat(s(this.edges)).map(function(e){var r=n(e,1);var t=n(r[0],2);var a=t[0];var i=t[1];return"['"+a+"', '"+i+"']"}).join(", ")}return r}(R.EdgeExistsError);R.CycleError=function(e){u(r,e);function r(e){o(this,r);a(Object.getPrototypeOf(r.prototype),"constructor",this).call(this);this.cycle=e;this.message="This graph contains a cycle: "+e}return r}(Error);R.BranchlessCycleError=function(e){u(r,e);function r(e){o(this,r);a(Object.getPrototypeOf(r.prototype),"constructor",this).call(this,e);this.message="This graph contains a branch-less cycle: "+e}return r}(R.CycleError);e.exports=r["default"]}})});
//# sourceMappingURL=dist/graph.min.js.map