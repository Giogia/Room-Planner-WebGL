{"version":3,"file":"image-comparison-app.js","sourceRoot":"","sources":["../../../../src/test/fidelity/components/image-comparison-app.ts"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;GAaG;;;;;;;AAEH,OAAO,oBAAoB,CAAC;AAC5B,OAAO,yBAAyB,CAAC;AAEjC,OAAO,EAAC,IAAI,EAAE,UAAU,EAAE,QAAQ,EAAC,MAAM,aAAa,CAAC;AAIvD,MAAM,OAAO,kBAAmB,SAAQ,UAAU;IAAlD;;QAC4B,QAAG,GAAW,EAAE,CAAC;QAEjB,WAAM,GAA+B,IAAI,CAAC;IAmDtE,CAAC;IAjDC,OAAO,CAAC,iBAAgC;QACtC,KAAK,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC;QAEjC,IAAI,iBAAiB,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE;YAChC,IAAI,CAAC,UAAU,EAAE,CAAC;SACnB;IACH,CAAC;IAEO,KAAK,CAAC,UAAU;QACtB,IAAI,IAAI,CAAC,GAAG,EAAE;YACZ,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;SACpD;aAAM;YACL,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;SACpB;IACH,CAAC;IAED,MAAM;QACJ,MAAM,EAAC,MAAM,EAAC,GAAG,IAAI,CAAC;QAEtB,IAAI,MAAM,IAAI,IAAI,EAAE;YAClB,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAA,YAAY,CAAC,CAAC,CAAC,IAAI,CAAA,qBAAqB,CAAC;SAChE;QAED,MAAM,OAAO,GAAG,MAAM,CAAC,SAAS,CAAC,GAAG,CAChC,QAAQ,CAAC,EAAE,CAAC,mBAAK,QAAQ,IAAE,IAAI,EAAE,GAAG,QAAQ,CAAC,IAAI,aAAa,IAAE,CAAC,CAAC;QAEtE,MAAM,SAAS,GAAG,MAAO,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,QAAQ,EAAE,EAAE,CAAC,IAAI,CAAA;;aAEjD,QAAQ,CAAC,IAAI;gBACV,OAAO;mBACJ,QAAQ,CAAC,UAAU;gBACtB,QAAQ,CAAC,OAAO,IAAI,EAAE;sBAChB,CAAC,CAAC;QAEpB,OAAO,IAAI,CAAA;;;;;;;;;;;IAWX,SAAS;;gCAEmB,CAAC;IAC/B,CAAC;CACF;AArD2B;IAAzB,QAAQ,CAAC,EAAC,IAAI,EAAE,MAAM,EAAC,CAAC;+CAAkB;AAEjB;IAAzB,QAAQ,CAAC,EAAC,IAAI,EAAE,MAAM,EAAC,CAAC;kDAA2C;AAmDrE,CAAC;AAEF,cAAc,CAAC,MAAM,CAAC,sBAAsB,EAAE,kBAAkB,CAAC,CAAC","sourcesContent":["/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport './analysis-view.js';\nimport './rendering-scenario.js';\n\nimport {html, LitElement, property} from 'lit-element';\n\nimport {ImageComparisonConfig} from '../common.js';\n\nexport class ImageComparisonApp extends LitElement {\n  @property({type: String}) src: string = '';\n\n  @property({type: Object}) config: ImageComparisonConfig|null = null;\n\n  updated(changedProperties: Map<any, any>) {\n    super.updated(changedProperties);\n\n    if (changedProperties.has('src')) {\n      this.loadConfig();\n    }\n  }\n\n  private async loadConfig() {\n    if (this.src) {\n      this.config = await (await fetch(this.src)).json();\n    } else {\n      this.config = null;\n    }\n  }\n\n  render() {\n    const {config} = this;\n\n    if (config == null) {\n      return this.src ? html`Loading...` : html`No config specified`;\n    }\n\n    const goldens = config.renderers.map(\n        renderer => ({...renderer, file: `${renderer.name}-golden.png`}));\n\n    const scenarios = config!.scenarios.map((scenario) => html`\n<rendering-scenario\n    .name=\"${scenario.name}\"\n    .goldens=\"${goldens}\"\n    .dimensions=\"${scenario.dimensions}\"\n    .exclude=\"${scenario.exclude || []}\">\n</rendering-scenario>`);\n\n    return html`\n<style>\n#scenarios {\n  display: flex;\n  max-width: 100%;\n  flex-direction: column;\n  align-items: center;\n  padding-bottom: 5em;\n}\n</style>\n<div id=\"scenarios\">\n  ${scenarios}\n</div>\n<analysis-view></analysis-view>`;\n  }\n};\n\ncustomElements.define('image-comparison-app', ImageComparisonApp);\n"]}